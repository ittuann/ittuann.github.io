---
layout: article
title: 机械结构设计与踩雷
date: 2021-08-28
key: P2021-08-28-2
tags: 智能车
show_author_profile: true
comment: true
sharing: true
aside:
  toc: true
---

在正常的机械结构下，如果漂移甩尾，或是速度不高且提不上速度，不要迷信轮胎处理或是结构微调这些，这时候影响的大概率是程序和算法。轮胎处理和结构微调只会在高速时有些许的改善，陷入天天有问题就想调机械也是我们最开始做的问题。

另外全向车今年也算是机械设计发挥空间最大也是样式最多的了，多样的同时也说明了并没有出现一套稳定通用而又普遍的方案。我们测试了不下三套结构，理论和实践也都说明了不同的车体结构设计对行进的影响也是很大的。

<!--more-->

# 麦轮安装

* 麦克纳姆轮由两大部分组成：轮毂和辊子（roller）。轮毂是整个轮子的主体支架，辊子则是安装在轮毂上的鼓状物。车模上使用的麦轮轮毂轴与辊子转轴呈 45° 角，这个夹角理论上可以是任意值，根据不同的夹角可以制作出不同的轮子，车模上的45°也是最常见和最容易批量生产的角度。

* 麦轮的安装：麦轮一般是四个一组使用，两个左旋轮，两个右旋轮。左旋轮和右旋轮呈手性对称。常用的有两种安装方式，分为O型和X型，其中X和O表示的是与四个轮子地面接触的辊子所形成的图形。又可以根据四个轮子与地面接触点所围成的形状分为正方形与长方形。传动力矩的长度上O型大于X长方形，且X正方形轮子转动产生的力矩会经过同一个点，yaw 轴无法主动旋转和保持角度，因此一般安装时采用O型。科宇的车模为正方形，四个轮子上滚轮的转动轴汇聚于底板中心，我们也选择了O型来安装。

  <img src="https://raw.githubusercontent.com/ittuann/ittuann.github.io/main/_posts/_img/2021-08-28-CarMachine1.jpg" alt="img" style="zoom:20%;" />


# 轮胎处理

* 其实我们认为最重要的是，把辊子上的胶套用3M薄双面胶粘死在了轮子中间。未作处理的话横向跑车的时候胶套会偏向轮毂一侧，影响辊子正常转动。虽然但是，闭环了确实会在一定程度上不会出现太大的问题。

* 我们也尝试了用软化剂涂抹胶套，具体的方法就是用刷子把每个辊子上的胶套都刷上软化剂，再用保鲜膜包起来密封八小时左右，一般就是偶尔在晚上调完车后处理第二天早上再拆封这样。如果不嫌拆装麻烦可以拆掉所有辊子上的胶套并浸泡在软化剂里，或是有充足资金买软化剂就直接把麦轮拿去泡。软化剂我们使用的是逐飞店铺的黄色小瓶，呆萌侠的也尝试过。不过因为胶套太薄面积太小，处理完之后没有明显的手感变化，上车测试也是一样。

  呆萌侠的厚胶套我们买过，感觉就是把长橡胶管截成一个个小段，并且是上下等宽等粗，感觉很不靠谱的样子。并且后面卓大公众号评论下面回复这种胶套厚度可能超标，为了安全起见我们就放弃用了。那个其实连装车都嫌累就根本就没装上过（

* 打磨轮胎的话，可以用砂轮机打磨，也可以找个粗螺丝放到胶套里固定，再卡到台式钻台上，手拿着砂纸在旁边磨。硅橡胶是为了防止打磨将轮胎磨破，可使用南大硅橡胶进行补胎，硅橡胶更软但摩擦力不如原胎。但是这么多辊子磨完会是个巨大的工程，看着就很累最终也没做处理。另外原装胶套本身就很薄，稍不留神就容易磨破。我们尝试处理了一个手感上也没有明显变化。其实跑到了最后胶套已经被自然磨损了一层，边缘甚至还会破损。破损只要不是特别严重我们也就没修，严重的就直接换掉了。

* 我们发现辊子和轮毂连接处在跑了很长一段时间后会出现黑色的东西，有些粘性但也不少油状的，猜测可能是胶套的碎屑卡在了慢慢积累到一起。这个黑色的东西会让辊子自转稍微受阻。这是我们在拆轮时才发现的，不拆轮单从外面看没有发现，拆之前并未察觉到异样，拆后也只有仔细观察才能发现提升之处。

# 其他

* 测试了不下三套结构，测试下来重心越靠近中间越好。最开始把电池放到了车尾想抑制甩尾结果车越来越甩x 最后电池放到了车子的正中心。并且电池一定要固定牢固，否则在弯道处会明显感觉滑移。
* 为了保证摄像头稳定垂直车体并且尽量减少抖动，我们用了四个碳杆和轴承做支架固定。但是偶然发现附加支架极拉扯车模底盘，把本来就有点软的底盘拉弯了然后四个轮都没有完全着地受力也不均。把螺丝换成用热熔胶固定，车放到赛道上直接提速到一米八九。
* 卸下来车模前挡板，因为挡板会卡路肩，并且要撞也是先撞掉放在前面的电感（硬件震怒
* 摄像头伸长的链接装置设计的时候是想用机械的方法更改摄像头前瞻，但调到最后感觉其实也不是很明显的样子（逃
* 舵机使用了飞特的FT2331M，体积小质量轻转的快，除了贵点没啥缺点了x
* 轮胎以及赛道的干净很重要。建议擦轮胎使用微湿的抹布，擦赛道使用较干的抹布进行，擦拭完毕等二者都干掉再发车。也有玄学推荐购买WD-40除锈剂来清洁轮胎预算充足可以试试。如果隔夜代码跑不了，请先不要怀疑自己，擦一遍赛道和轮子会有意外收获的。



------

参考资料：

> 麦克纳姆轮浅谈：https://zhuanlan.zhihu.com/p/20282234
